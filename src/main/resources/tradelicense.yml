serviceMaps:
 serviceName: tl-services
 mappings:
 - version: 1.0
   description: Persists tradeLicense details in EG_TL_TradeLicense  table
   fromTopic: save-tl-tradelicense
   isTransaction: true
   queryMaps:

       - query: INSERT INTO eg_tl_tradelicense( id, tenantid, licensetype, licensenumber,applicationNumber, oldlicensenumber, propertyid, oldpropertyid, applicationdate, commencementdate, issueddate, financialyear, validfrom, validto, action, status, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?,?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
         basePath: Licenses.*
         jsonMaps:
          - jsonPath: $.Licenses.*.id

          - jsonPath: $.Licenses.*.tenantId

          - jsonPath: $.Licenses.*.licenseType

          - jsonPath: $.Licenses.*.licenseNumber

          - jsonPath: $.Licenses.*.applicationNumber

          - jsonPath: $.Licenses.*.oldLicenseNumber

          - jsonPath: $.Licenses.*.propertyId

          - jsonPath: $.Licenses.*.oldPropertyId

          - jsonPath: $.Licenses.*.applicationDate

          - jsonPath: $.Licenses.*.commencementDate

          - jsonPath: $.Licenses.*.issuedDate

          - jsonPath: $.Licenses.*.financialYear

          - jsonPath: $.Licenses.*.validFrom

          - jsonPath: $.Licenses.*.validTo

          - jsonPath: $.Licenses.*.action

          - jsonPath: $.Licenses.*.status

          - jsonPath: $.Licenses.*.auditDetails.createdBy

          - jsonPath: $.Licenses.*.auditDetails.lastModifiedBy

          - jsonPath: $.Licenses.*.auditDetails.createdTime

          - jsonPath: $.Licenses.*.auditDetails.lastModifiedTime



       - query: INSERT INTO eg_tl_tradelicensedetail( id, surveyno, subownershipcategory, channel, additionaldetail, tradelicenseid, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
         basePath: Licenses.*.tradeLicenseDetail
         jsonMaps:
          - jsonPath: $.Licenses.*.tradeLicenseDetail.id

          - jsonPath: $.Licenses.*.tradeLicenseDetail.surveyNo

          - jsonPath: $.Licenses.*.tradeLicenseDetail.subOwnerShipCategory

          - jsonPath: $.Licenses.*.tradeLicenseDetail.channel

          - jsonPath: $.Licenses.*.tradeLicenseDetail.additionalDetail

          - jsonPath: $.Licenses.*.id

          - jsonPath: $.Licenses.*.auditDetails.createdBy

          - jsonPath: $.Licenses.*.auditDetails.lastModifiedBy

          - jsonPath: $.Licenses.*.auditDetails.createdTime

          - jsonPath: $.Licenses.*.auditDetails.lastModifiedTime



       - query: INSERT INTO eg_tl_tradeunit( id, tenantid, tradetype, uom, uomvalue, tradelicensedetailid, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
         basePath: Licenses.*.tradeLicenseDetail.tradeUnits.*
         jsonMaps:
          - jsonPath: $.Licenses.*.tradeLicenseDetail.tradeUnits.*.id

          - jsonPath: $.Licenses.*.tradeLicenseDetail.tradeUnits.*.tenantId

          - jsonPath: $.Licenses.*.tradeLicenseDetail.tradeUnits.*.tradeType

          - jsonPath: $.Licenses.*.tradeLicenseDetail.tradeUnits.*.uom

          - jsonPath: $.Licenses.*.tradeLicenseDetail.tradeUnits.*.uomValue

          - jsonPath: $.Licenses.*.tradeLicenseDetail.id

          - jsonPath: $.Licenses.*.auditDetails.createdBy

          - jsonPath: $.Licenses.*.auditDetails.lastModifiedBy

          - jsonPath: $.Licenses.*.auditDetails.createdTime

          - jsonPath: $.Licenses.*.auditDetails.lastModifiedTime



       - query: INSERT INTO eg_tl_accessory( id, tenantid, accessoryCategory, uom, uomvalue, tradelicensedetailid, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
         basePath: Licenses.*.tradeLicenseDetail.accessories.*
         jsonMaps:
          - jsonPath: $.Licenses.*.tradeLicenseDetail.accessories.*.id

          - jsonPath: $.Licenses.*.tradeLicenseDetail.accessories.*.tenantId

          - jsonPath: $.Licenses.*.tradeLicenseDetail.accessories.*.accessoryCategory

          - jsonPath: $.Licenses.*.tradeLicenseDetail.accessories.*.uom

          - jsonPath: $.Licenses.*.tradeLicenseDetail.accessories.*.uomValue

          - jsonPath: $.Licenses.*.tradeLicenseDetail.id

          - jsonPath: $.Licenses.*.auditDetails.createdBy

          - jsonPath: $.Licenses.*.auditDetails.lastModifiedBy

          - jsonPath: $.Licenses.*.auditDetails.createdTime

          - jsonPath: $.Licenses.*.auditDetails.lastModifiedTime


       - query: INSERT INTO public.eg_tl_owner( id, tenantid, tradelicensedetailid, isactive, isprimaryowner, ownertype, ownershippercentage, relationship, createdby, createdtime, lastmodifiedby, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
         basePath: Licenses.*.tradeLicenseDetail.owners.*
         jsonMaps:
          - jsonPath: $.Licenses.*.tradeLicenseDetail.owners.*.id

          - jsonPath: $.Licenses.*.tradeLicenseDetail.owners.*.tenantId

          - jsonPath: $.Licenses.*.tradeLicenseDetail.id

          - jsonPath: $.Licenses.*.tradeLicenseDetail.owners.*.active

          - jsonPath: $.Licenses.*.tradeLicenseDetail.owners.*.isPrimaryOwner

          - jsonPath: $.Licenses.*.tradeLicenseDetail.owners.*.ownerType

          - jsonPath: $.Licenses.*.tradeLicenseDetail.owners.*.ownerShipPercentage

          - jsonPath: $.Licenses.*.tradeLicenseDetail.owners.*.relationship

          - jsonPath: $.Licenses.*.auditDetails.createdBy

          - jsonPath: $.Licenses.*.auditDetails.lastModifiedBy

          - jsonPath: $.Licenses.*.auditDetails.createdTime

          - jsonPath: $.Licenses.*.auditDetails.lastModifiedTime


       - query: INSERT INTO eg_tl_verificationdocument( id, tenantid, documenttype, tradecategorydetail, filestoreid, tradelicensedetailid, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
         basePath: Licenses.*.tradeLicenseDetail.verificationDocuments.*
         jsonMaps:
          - jsonPath: $.Licenses.*.tradeLicenseDetail.verificationDocuments.*.id

          - jsonPath: $.Licenses.*.tradeLicenseDetail.verificationDocuments.*.tenantId

          - jsonPath: $.Licenses.*.tradeLicenseDetail.verificationDocuments.*.documentType

          - jsonPath: $.Licenses.*.tradeLicenseDetail.verificationDocuments.*.tradecategorydetail

          - jsonPath: $.Licenses.*.tradeLicenseDetail.verificationDocuments.*.filestoreId

          - jsonPath: $.Licenses.*.tradeLicenseDetail.id

          - jsonPath: $.Licenses.*.auditDetails.createdBy

          - jsonPath: $.Licenses.*.auditDetails.lastModifiedBy

          - jsonPath: $.Licenses.*.auditDetails.createdTime

          - jsonPath: $.Licenses.*.auditDetails.lastModifiedTime



       - query: INSERT INTO eg_tl_applicationdocument( id, tenantid, documenttype, tradecategorydetail, filestoreid, tradelicensedetailid, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
         basePath: Licenses.*.tradeLicenseDetail.applicationDocuments.*
         jsonMaps:
          - jsonPath: $.Licenses.*.tradeLicenseDetail.applicationDocuments.*.id

          - jsonPath: $.Licenses.*.tradeLicenseDetail.applicationDocuments.*.tenantId

          - jsonPath: $.Licenses.*.tradeLicenseDetail.applicationDocuments.*.documentType

          - jsonPath: $.Licenses.*.tradeLicenseDetail.applicationDocuments.*.tradecategorydetail

          - jsonPath: $.Licenses.*.tradeLicenseDetail.applicationDocuments.*.filestoreId

          - jsonPath: $.Licenses.*.tradeLicenseDetail.id

          - jsonPath: $.Licenses.*.auditDetails.createdBy

          - jsonPath: $.Licenses.*.auditDetails.lastModifiedBy

          - jsonPath: $.Licenses.*.auditDetails.createdTime

          - jsonPath: $.Licenses.*.auditDetails.lastModifiedTime


       - query: INSERT INTO public.eg_tl_address( id, tenantid, doorno, latitude, longitude, addressid, addressnumber, type, addressline1, addressline2, landmark, city, pincode, detail, tradelicensedetailid, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
         basePath: Licenses.*.tradeLicenseDetail.address
         jsonMaps:
          - jsonPath: $.Licenses.*.address.id

          - jsonPath: $.Licenses.*.address.tenantid

          - jsonPath: $.Licenses.*.address.doorno

          - jsonPath: $.Licenses.*.address.latitude

          - jsonPath: $.Licenses.*.address.longitude

          - jsonPath: $.Licenses.*.address.addressid

          - jsonPath: $.Licenses.*.address.addressnumber

          - jsonPath: $.Licenses.*.address.type

          - jsonPath: $.Licenses.*.address.addressline1

          - jsonPath: $.Licenses.*.address.addressline1

          - jsonPath: $.Licenses.*.address.landmark

          - jsonPath: $.Licenses.*.address.city

          - jsonPath: $.Licenses.*.address.pincode

          - jsonPath: $.Licenses.*.address.detail

          - jsonPath: $.Licenses.*.address.id

          - jsonPath: $.Licenses.*.auditDetails.createdBy

          - jsonPath: $.Licenses.*.auditDetails.lastModifiedBy

          - jsonPath: $.Licenses.*.auditDetails.createdTime

          - jsonPath: $.Licenses.*.auditDetails.lastModifiedTime

